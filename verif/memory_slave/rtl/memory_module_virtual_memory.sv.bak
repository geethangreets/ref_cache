

// ************************************************************************************************
//
// PROJECT      :   Memory Controller
// PRODUCT      :   Virtual Memory - using c++
// FILE         :   memory.sv
// AUTHOR       :   NM
// DESCRIPTION  :
// VERSION      : 1.00
// ************************************************************************************************
//
// REVISIONS:
//
//    11/04/2014      NM
//**************************************************************************************************

`timescale 1ns / 1ps

module memory_module_virtual_memory();

//---------------------------------------------------------------------------------------------------------------------
// Global constant headers
//---------------------------------------------------------------------------------------------------------------------


//---------------------------------------------------------------------------------------------------------------------
// parameter definitions
//---------------------------------------------------------------------------------------------------------------------

`include "../sim/param.v"

//---------------------------------------------------------------------------------------------------------------------
// localparam definitions
//---------------------------------------------------------------------------------------------------------------------


//---------------------------------------------------------------------------------------------------------------------
// I/O signals
//---------------------------------------------------------------------------------------------------------------------


//---------------------------------------------------------------------------------------------------------------------
// Imports
//---------------------------------------------------------------------------------------------------------------------

    import "DPI-C"  function void memory_init();
    import "DPI-C"  function byte memory_read(int location);
    import "DPI-C"  function void memory_write(int location, byte data);

//---------------------------------------------------------------------------------------------------------------------
// Implementation
//---------------------------------------------------------------------------------------------------------------------
    task memory_initialize;
        memory_init();
    endtask


    task data_read;
        input [ADD_WIDTH-1 : 0]  location;
        output [8-1 : 0] data;
        begin
            data = memory_read(location);
            if(location == 301989888) begin
               $display(%m time:%d location:%d data:%d", $time,location,data);
            end
        end

    endtask

    task data_write;
        input [ADD_WIDTH-1 : 0]  location;
        input [8-1 : 0] data;
        begin
            memory_write(location, data);
            if(location == 301989888) begin
               $display(%m time:%d location:%d data:%d", $time,location,data);
            end
        end

    endtask



endmodule











